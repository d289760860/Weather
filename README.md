# Weather
移动互联应用开发大作业 Weather

## 简介
这是基于OpenWeatherMap的API接口的一个天气应用，可以查询指定城市的大致天气情况。

## 功能介绍
### 一、获取当前位置

使用了CLLocationManager来获取当前的经纬度，使用geocoder来对获得的经纬度进行解析以获取城市和国家的信息。
点击右上角的按钮“Loc”即可获取定位。

屏幕截图如下：

<img src="ScreenShots/屏幕快照 2018-01-02 下午6.29.46.png" width="300">

获取经纬度后，自动将对应城市添加到城市列表中，并弹出提示框，显示经纬度和城市。

由于不明原因，获取的经纬度所对应的地方是山东东营。
在OpenWeatherMap网站上通过该经纬度获取的位置也是山东东营，所以推测是模拟器提供的经纬度的问题。

### 二、选择城市

除了通过定位获取当前城市外，还可以手动选择城市。
可以通过点击右上角的加号来添加城市。

屏幕截图如下：

<img src="ScreenShots/屏幕快照 2018-01-02 下午6.31.02.png" width="300">

用户可以通过右侧的导航栏直接跳转至对应字母，以便选择需要的城市。
如果要选的城市已经在城市列表中，会弹出提示框并且取消选中。
选中城市后，右上角的Save按钮就会变为有效。

### 三、获取天气信息

在OpenWeatherMap上注册了帐号，并且使用网站提供的天气API来获取天气信息。
主要获取了以下信息：
* 当前的气压、能见度、湿度、温度、天气情况；
* 本日的日出日落时间；
* 未来60小时内，以3小时为单位的温度、湿度、降雨量、风速、云密度、气压等。


### 四、展示天气信息
进入城市天气页面后，首先展示的是大致信息。
若未能成功连接网络，则显示的信息如下：

<img src="ScreenShots/屏幕快照 2018-01-02 下午7.52.50.png" width="300">

可以通过最下方的按钮进行刷新。
刷新后，信息可以成功展示。

<img src="ScreenShots/屏幕快照 2018-01-02 下午7.53.07.png" width="300">

之后，一些信息会以图表的形式呈现出来。
<img src="ScreenShots/屏幕快照 2018-01-02 下午7.53.32.png" width="300">
<img src="ScreenShots/屏幕快照 2018-01-02 下午8.16.21.png" width="300">

## 不足之处

